{% extends "layout.html" %} {% block content %}

<head>
    <meta
        property="og:description"
        content="miaw.cc - a lightweight social pastebin"
    />
    <meta
        property="og:image"
        content="{{ url_for('static', filename='favicon.webp') }}"
    />
</head>
    <body>
        <div class="container-2">
            <form
                style="text-align: center"
                method="get"
                action="{{ url_for('dashboard') }}"
            >
                <input
                    type="text"
                    name="search"
                    placeholder="search..."
                    value="{{ search }}"
                />
                <button class="btn" type="submit">search</button>
                <input
                    type="hidden"
                    name="csrf_token"
                    value="{{ csrf_token() }}"
                />
            </form>

            {% if pastes %} {% for paste in pastes %}
            <a class="paste-link" href="{{ url_for('view_paste', paste_id=paste.id) }}"
                >
            <div class="paste-card">
                <h3>{{ url_for('view_paste', paste_id=paste.id) }}</h3>
                <span>{{ paste.content[:105] }}{% if paste.content|length > 50 %}...{% endif %}</span>
            </div></a
            >
            {% endfor %} {% else %}
            <div>no pastes yet!</div>
            {% endif %}
        </div>
        <div class="pagination">
            {% if page > 1 %}
            <a href="{{ url_for('dashboard', page=page-1, search=search) }}"
                >Previous</a
            >
            {% endif %} {% if (page * per_page) < total %}
            <a href="{{ url_for('dashboard', page=page+1, search=search) }}"
                >Next</a
            >
            {% endif %}
        </div>
        {% endblock %}
    </body>
</html>
